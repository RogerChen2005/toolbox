(function(){"use strict";var e={9957:function(e,t,n){var s=n(9242),o=n(3396);const a=e=>((0,o.dD)("data-v-661c5eca"),e=e(),(0,o.Cn)(),e),l={key:0,id:"ball"},i={key:1,class:"container"},r={id:"main"},d=a((()=>(0,o._)("div",{id:"title"},"WordIn",-1))),c={class:"colbox"},w={key:2,class:"container"},u=a((()=>(0,o._)("span",{class:"text-large font-600 mr-3"}," 背诵 ",-1))),m={key:3,class:"container"},h=a((()=>(0,o._)("span",{class:"text-large font-600 mr-3"}," 编辑单词本 ",-1)));function p(e,t,n,s,a,p){const g=(0,o.up)("el-page-header"),f=(0,o.up)("recite"),_=(0,o.up)("editor");return(0,o.wg)(),(0,o.iD)(o.HY,null,[0===a.index?((0,o.wg)(),(0,o.iD)("div",l)):(0,o.kq)("",!0),0===a.index?((0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",r,[d,(0,o._)("div",c,[(0,o._)("div",{onClick:t[0]||(t[0]=e=>p.change(1)),class:"button"}," 背诵 "),(0,o._)("div",{onClick:t[1]||(t[1]=e=>p.change(2)),class:"button"}," 编辑单词本 ")])])])):(0,o.kq)("",!0),1===a.index?((0,o.wg)(),(0,o.iD)("div",w,[(0,o.Wm)(g,{onBack:t[2]||(t[2]=e=>p.change(0))},{content:(0,o.w5)((()=>[u])),_:1}),(0,o.Wm)(f)])):(0,o.kq)("",!0),2===a.index?((0,o.wg)(),(0,o.iD)("div",m,[(0,o.Wm)(g,{onBack:t[3]||(t[3]=e=>p.change(0))},{content:(0,o.w5)((()=>[h])),_:1}),(0,o.Wm)(_)])):(0,o.kq)("",!0)],64)}var g=n(7139);const f=e=>((0,o.dD)("data-v-22d8a727"),e=e(),(0,o.Cn)(),e),_={class:"no"},k={key:0,class:"colbox"},v={class:"no"},y={class:"title"},b={style:{"font-size":"17px","font-weight":"200"}},x={class:"option"},W={key:1,id:"new",class:"rowbox"},S=f((()=>(0,o._)("span",{class:"text-large font-600 mr-3"}," 新建单词本 ",-1))),C={class:"colbox"},I={key:1,class:"container",style:{overflow:"auto"}},O={class:"text-large font-600 mr-3"},z={class:"colbox",style:{"margin-top":"20px"}},U={class:"rowbox"},D={class:"card",style:{"margin-bottom":"20px"}},V={class:"colbox"},j={class:"colbox"},q={class:"card"},N={class:"colbox"},J={style:{width:"100%"},class:"card"},A={style:{display:"flex","flex-direction":"row"}};function Y(e,t,n,s,a,l){const i=(0,o.up)("box-icon"),r=(0,o.up)("el-button"),d=(0,o.up)("el-header"),c=(0,o.up)("el-page-header"),w=(0,o.up)("el-text"),u=(0,o.up)("el-input"),m=(0,o.up)("el-main"),h=(0,o.up)("el-container"),p=(0,o.up)("el-option"),f=(0,o.up)("el-select"),Y=(0,o.up)("el-table-column"),$=(0,o.up)("el-table");return(0,o.wg)(),(0,o.iD)(o.HY,null,[a.mode<2?((0,o.wg)(),(0,o.j4)(h,{key:0,class:"container"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{id:"header",class:"colbox"},{default:(0,o.w5)((()=>[(0,o._)("div",_,"共有"+(0,g.zw)(a.wordsets.length)+"个单词本",1),(0,o._)("div",null,[(0,o.Wm)(r,{onClick:l.export_set,type:"success"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{color:"white",name:"export",size:"15px"}),(0,o.Uk)("导出")])),_:1},8,["onClick"]),(0,o.Wm)(r,{onClick:l.import_set,type:"warning"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{color:"white",name:"import",size:"15px"}),(0,o.Uk)("导入")])),_:1},8,["onClick"]),(0,o.Wm)(r,{onClick:t[0]||(t[0]=e=>a.mode=1),type:"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{color:"white",name:"plus"}),(0,o.Uk)("新建单词本")])),_:1})])])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[0===a.mode?((0,o.wg)(),(0,o.iD)("div",k,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.wordsets,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"wordset rowbox"},[(0,o._)("div",v,(0,g.zw)(t+1),1),(0,o._)("div",y,(0,g.zw)(e.name),1),(0,o._)("div",b," 创建日期："+(0,g.zw)(new Date(e.created).toLocaleString()),1),(0,o._)("div",x,[(0,o.Wm)(i,{class:"btn",name:"edit",onClick:n=>l.edit(e.name,t)},null,8,["onClick"]),(0,o.Wm)(i,{class:"btn",name:"trash",onClick:n=>l.del(e.name,t)},null,8,["onClick"])])])))),128))])):(0,o.kq)("",!0),1===a.mode?((0,o.wg)(),(0,o.iD)("div",W,[(0,o.Wm)(c,{onBack:t[1]||(t[1]=e=>a.mode=0)},{content:(0,o.w5)((()=>[S])),_:1}),(0,o._)("div",C,[(0,o.Wm)(w,{class:"mx-1",style:{width:"50px"}},{default:(0,o.w5)((()=>[(0,o.Uk)("名称:")])),_:1}),(0,o.Wm)(u,{modelValue:a.set_name,"onUpdate:modelValue":t[2]||(t[2]=e=>a.set_name=e)},null,8,["modelValue"])]),(0,o.Wm)(r,{style:{width:"50%"},type:"primary",onClick:t[3]||(t[3]=e=>l.new_wordset())},{default:(0,o.w5)((()=>[(0,o.Uk)("创建")])),_:1})])):(0,o.kq)("",!0)])),_:1})])),_:1})):(0,o.kq)("",!0),2===a.mode?((0,o.wg)(),(0,o.iD)("div",I,[(0,o.Wm)(c,{onBack:t[4]||(t[4]=e=>a.mode=0)},{content:(0,o.w5)((()=>[(0,o._)("span",O,(0,g.zw)(a.editing),1)])),_:1}),(0,o._)("div",z,[(0,o._)("div",U,[(0,o._)("div",D,[(0,o._)("div",null,[(0,o.Wm)(w,{class:"mx-1",style:{"font-size":"35px","font-weight":"800"}},{default:(0,o.w5)((()=>[(0,o.Uk)("添加单词")])),_:1})]),(0,o.Wm)(u,{modelValue:a.new_word,"onUpdate:modelValue":t[5]||(t[5]=e=>a.new_word=e)},null,8,["modelValue"]),(0,o._)("div",V,[(0,o.Wm)(w,{class:"mx-1",style:{width:"60px"}},{default:(0,o.w5)((()=>[(0,o.Uk)("翻译:")])),_:1}),(0,o.Wm)(u,{modelValue:a.new_trans,"onUpdate:modelValue":t[6]||(t[6]=e=>a.new_trans=e)},null,8,["modelValue"])]),(0,o._)("div",j,[(0,o.Wm)(w,{class:"mx-1",style:{width:"80px"}},{default:(0,o.w5)((()=>[(0,o.Uk)("词性：")])),_:1}),(0,o.Wm)(f,{modelValue:a.word_type,"onUpdate:modelValue":t[7]||(t[7]=e=>a.word_type=e),class:"m-2",placeholder:"Select"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.options,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,o.Wm)(r,{onClick:t[8]||(t[8]=e=>l.add_word()),type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("添加")])),_:1})]),(0,o._)("div",q,[(0,o._)("div",null,[(0,o.Wm)(w,{class:"mx-1",style:{"font-size":"35px","font-weight":"800"}},{default:(0,o.w5)((()=>[(0,o.Uk)("更改名称")])),_:1})]),(0,o._)("div",N,[(0,o.Wm)(w,{class:"mx-1",style:{width:"60px"}},{default:(0,o.w5)((()=>[(0,o.Uk)("新名称:")])),_:1}),(0,o.Wm)(u,{modelValue:a.new_name,"onUpdate:modelValue":t[9]||(t[9]=e=>a.new_name=e)},null,8,["modelValue"])]),(0,o.Wm)(r,{onClick:t[10]||(t[10]=e=>l.change_name()),type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("更改名称")])),_:1})])]),(0,o._)("div",J,[(0,o.Wm)($,{data:a.table,style:{"max-height":"550px",overflow:"auto","border-radius":"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Y,{type:"index"}),(0,o.Wm)(Y,{prop:"word",label:"单词"}),(0,o.Wm)(Y,{prop:"type",label:"词性"}),(0,o.Wm)(Y,{prop:"trans",label:"翻译"}),(0,o.Wm)(Y,{fixed:"right",label:"操作"},{default:(0,o.w5)((e=>[(0,o._)("div",A,[(0,o.Wm)(i,{size:"xs",class:"btn",name:"trash",onClick:t=>l.del_word(e.$index)},null,8,["onClick"])])])),_:1})])),_:1},8,["data"])])])])):(0,o.kq)("",!0)],64)}n(7658);var $=n(6666),B=n(6e3),M=n(7178),E={name:"NoteEditor",data(){return{mode:0,wordsets:window.wordsets,set_name:"",editing:"",editingIndex:-1,new_word:"",new_name:"",word_type:"adj.",options:[{label:"verb(v.)",value:"v."},{label:"adverb(adv.)",value:"adv."},{label:"noun(v.)",value:"n."},{label:"adjective(adj.)",value:"adj."},{label:"prepositions(prep.)",value:"prep."}],table:[],new_trans:""}},methods:{new_wordset(){let e=localStorage.getItem(this.set_name);e?(0,$.bM)("该名称已经被占用"):(this.wordsets.push({name:this.set_name,created:(new Date).getTime()}),localStorage.setItem("wordsets",JSON.stringify(this.wordsets)),localStorage.setItem(this.set_name,JSON.stringify([])),this.mode=0)},del(e,t){B.T.confirm("确定要删除吗？").then((()=>{localStorage.removeItem(e),this.wordsets.splice(t,1),localStorage.setItem("wordsets",JSON.stringify(this.wordsets)),(0,M.z8)(`已经删除 ${e} `)}))},edit(e,t){this.editing=e,this.table=JSON.parse(localStorage.getItem(e)),this.mode=2,this.editingIndex=t},add_word(){this.table.push({word:this.new_word,type:this.word_type,trans:this.new_trans}),localStorage.setItem(this.editing,JSON.stringify(this.table)),(0,M.z8)({message:`已添加 ${this.new_word} (${this.word_type})`,type:"success"})},change_name(){let e=localStorage.getItem(this.new_name);e?(0,$.bM)("该名称已经被占用"):(localStorage.setItem(this.new_name,JSON.stringify(this.table)),localStorage.removeItem(this.editing),this.wordsets[this.editingIndex].name=this.new_name,localStorage.setItem("wordsets",JSON.stringify(this.wordsets)),(0,M.z8)({message:`已更改 ${this.editing} 为 ${this.new_name}`,type:"success"}),this.editing=this.new_name)},del_word(e){this.table.splice(e,1),localStorage.setItem(this.editing,JSON.stringify(this.table))},async export_set(){let e=await window.showSaveFilePicker({types:[{description:"JSON file",accept:{"text/json":[".json"]}}]}),t=await e.createWritable(),n={wordsets:this.wordsets,words:{}};for(let s of this.wordsets){let e=JSON.parse(localStorage.getItem(s.name));n.words[s.name]=e}t.write(JSON.stringify(n)),t.close()},async import_set(){let[e]=await window.showOpenFilePicker({types:[{description:"JSON file",accept:{"text/json":[".json"]}}]}),t=await e.getFile(),n=JSON.parse(await t.text()),s=0;for(let o of n.wordsets)localStorage.getItem(o.name)||(this.wordsets.push(o),localStorage.setItem(o.name,JSON.stringify(n.words[o.name])),s++);localStorage.setItem("wordsets",JSON.stringify(this.wordsets)),(0,$.bM)({type:"success",title:"添加成功",message:`已添加 ${s} 本单词本`})}}},H=n(89);const T=(0,H.Z)(E,[["render",Y],["__scopeId","data-v-22d8a727"]]);var F=T;const P=e=>((0,o.dD)("data-v-354babc4"),e=e(),(0,o.Cn)(),e),Z={key:0},K={class:"card",style:{"margin-top":"20px","background-color":"white",width:"50%"}},L=P((()=>(0,o._)("div",{class:"title"},"选择测验范围：",-1))),R={style:{"font-size":"25px","font-weight":"500"}},G={key:1,id:"test"},Q={id:"status"},X={key:1,class:"answer"},ee={id:"explain"},te={id:"trans"};function ne(e,t,n,s,a,l){const i=(0,o.up)("el-checkbox"),r=(0,o.up)("el-checkbox-group"),d=(0,o.up)("el-button"),c=(0,o.up)("box-icon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[0===a.mode?((0,o.wg)(),(0,o.iD)("div",Z,[(0,o._)("div",K,[L,(0,o.Wm)(i,{modelValue:a.checkAll,"onUpdate:modelValue":t[0]||(t[0]=e=>a.checkAll=e),indeterminate:a.isIndeterminate,onChange:l.handleCheckAllChange,size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("全选")])),_:1},8,["modelValue","indeterminate","onChange"]),(0,o.Wm)(r,{modelValue:a.checkedSets,"onUpdate:modelValue":t[1]||(t[1]=e=>a.checkedSets=e),onChange:l.handleChange},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.wordsets,(e=>((0,o.wg)(),(0,o.j4)(i,{class:"checkbox",key:e,label:e,size:"large",border:""},{default:(0,o.w5)((()=>[(0,o._)("div",R,(0,g.zw)(e),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","onChange"])]),(0,o.Wm)(d,{style:{margin:"20px",width:"50%"},type:"primary",onClick:t[2]||(t[2]=e=>l.init())},{default:(0,o.w5)((()=>[(0,o.Uk)("开始背诵")])),_:1})])):(0,o.kq)("",!0),1===a.mode?((0,o.wg)(),(0,o.iD)("div",G,[(0,o._)("div",Q,"背诵进度: "+(0,g.zw)(a.current+1)+"/"+(0,g.zw)(a.total),1),(0,o._)("div",null,[a.current===a.answered?((0,o.wg)(),(0,o.iD)("textarea",{key:0,autofocus:"",id:"input",onInput:t[3]||(t[3]=(...e)=>l.change&&l.change(...e)),class:"answer",spellcheck:"false"},"\r\n            ",32)):(0,o.kq)("",!0),a.current<a.answered?((0,o.wg)(),(0,o.iD)("div",X,(0,g.zw)(a.word.word),1)):(0,o.kq)("",!0)]),(0,o._)("p",ee,[a.current>0?((0,o.wg)(),(0,o.j4)(d,{key:0,onClick:l.prev},{default:(0,o.w5)((()=>[(0,o.Uk)("上一个")])),_:1},8,["onClick"])):(0,o.kq)("",!0),a.current<a.answered?((0,o.wg)(),(0,o.j4)(d,{key:1,onClick:l.next},{default:(0,o.w5)((()=>[(0,o.Uk)("下一个")])),_:1},8,["onClick"])):(0,o.kq)("",!0),a.current===a.answered?((0,o.wg)(),(0,o.j4)(d,{key:2,onClick:l.showAnswer},{default:(0,o.w5)((()=>[(0,o.Uk)("显示答案")])),_:1},8,["onClick"])):(0,o.kq)("",!0),(0,o.Wm)(d,{onClick:l.terminate,type:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)("停止背诵")])),_:1},8,["onClick"]),(0,o.Wm)(c,{class:"btn",style:{"margin-left":"10px",translate:"0 4px"},onClick:l.audio_play,name:"volume-full"},null,8,["onClick"])]),(0,o._)("div",te,(0,g.zw)(a.word.type)+" "+(0,g.zw)(a.word.trans),1)])):(0,o.kq)("",!0)],64)}function se(e,t){return parseInt(Math.random()*(t-e)+e)}var oe={name:"WordRecite",data(){return{mode:0,wordsets:[],checkedSets:[],isIndeterminate:!1,checkAll:!1,testWords:[],seq:[],total:0,current:0,answered:0,word:{}}},methods:{handleCheckAllChange(e){this.checkedSets=e?this.wordsets:[],this.isIndeterminate=!1},handleChange(e){this.checkAll=e.length===this.wordsets.length,this.isIndeterminate=e.length>0&&e.length<this.wordsets.length},init(){if(this.checkedSets.length<=0)return void(0,M.z8)({message:"请至少选择一个单词本",type:"error"});for(let t of this.checkedSets){let e=JSON.parse(localStorage.getItem(t));this.testWords=this.testWords.concat(...e)}this.total=this.testWords.length;let e=Array.from(new Array(this.total).keys());for(let t=0;t<this.total;t++){let n=se(0,this.total);[e[t],e[n]]=[e[n],e[t]]}this.seq=e,this.current=0,this.answered=0,this.mode=1,(0,o.Y3)((()=>{this.show()}))},next(){if(this.current++,this.current===this.total)return this.mode=0,void(0,$.bM)({message:"您已完成所有单词的背诵",title:"Congratulations!",type:"success"});(0,o.Y3)((()=>{this.show()}))},prev(){this.current--,this.show()},showAnswer(){(0,M.z8)(`答案：${this.word.word}`)},show(){this.word=this.testWords[this.seq[this.current]],console.log(this.word),this.current===this.answered&&(document.getElementById("input").value="_".repeat(this.word.word.length),document.getElementById("input").setSelectionRange(0,0))},change(){let e,t=document.getElementById("input"),n=t.value,s=n.indexOf("_");if(s==this.word.word.length){if(n.substring(0,n.length-1).toLowerCase()==this.word.word.toLowerCase())return(0,M.z8)({title:"Success",message:"正确",type:"success"}),this.answered++,void this.next();(0,M.z8)({title:"Error",message:"错误",type:"error"}),e="_".repeat(this.word.word.length),s=0}else-1==s?e="_".repeat(this.word.word.length):(e=n.substring(0,s),e+="_".repeat(this.word.word.length-s));t.value=e,t.setSelectionRange(s,s),t.focus()},audio_play(){var e=new Audio("https://dict.youdao.com/dictvoice?audio="+this.word.word);e.play()},terminate(){B.T.confirm("确定要终止吗？").then((()=>{this.mode=0,(0,$.bM)({message:"背诵已终止",type:"info",title:"Terminate"})}))}},created(){for(let e of window.wordsets)this.wordsets.push(e.name)}};const ae=(0,H.Z)(oe,[["render",ne],["__scopeId","data-v-354babc4"]]);var le=ae,ie={name:"App",components:{editor:F,recite:le},data(){return{index:0}},methods:{change(e){this.index=e}},created(){let e=localStorage.getItem("wordsets");window.wordsets=e?JSON.parse(e):[]}};const re=(0,H.Z)(ie,[["render",p],["__scopeId","data-v-661c5eca"]]);var de=re,ce=n(7074);n(4415),n(7144);const we=(0,s.ri)(de);we.use(ce.Z),we.mount("#app")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,s,o,a){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],a=e[c][2];for(var i=!0,r=0;r<s.length;r++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](s[r])}))?s.splice(r--,1):(i=!1,a<l&&(l=a));if(i){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[s,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,a,l=s[0],i=s[1],r=s[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(r)var c=r(n)}for(t&&t(s);d<l.length;d++)a=l[d],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},s=self["webpackChunkwordin"]=self["webpackChunkwordin"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(9957)}));s=n.O(s)})();
//# sourceMappingURL=app.c0065b69.js.map