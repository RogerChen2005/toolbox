{"version":3,"file":"js/565.d62fb676.js","mappings":"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","sources":["webpack://wordin/./src/components/manage/SetList.vue","webpack://wordin/./src/components/manage/SetList.vue?61b7"],"sourcesContent":["<template>\n    <el-container id=\"main-container\" class=\"container card\">\n        <el-header id=\"header\" class=\"colbox\">\n            <div class=\"no\">共有{{ Object.keys(wordsets).length }}个单词集合</div>\n            <div>\n                <el-button @click=\"manage_online_wordsets\" type=\"primary\"><box-icon color=\"white\" name='world' size=\"20px\"></box-icon>管理在线单词本</el-button>\n                <el-button @click=\"export_set\" type=\"success\"><box-icon color=\"white\" name='export'\n                        size=\"18px\"></box-icon>导出</el-button>\n                <el-button @click=\"import_set\" type=\"warning\"><box-icon color=\"white\" name='import'\n                        size=\"18px\"></box-icon>导入</el-button>\n                <el-button @click=\"$router.push('/manage/new')\" type=\"primary\"><box-icon color=\"white\" name='plus'></box-icon>新建单词本</el-button>\n            </div>\n        </el-header>\n        <el-main id=\"wordsets-container\">\n            <div class=\"colbox\" if=\"sets-container\">\n                <el-collapse accordion v-model=\"active_set_class\" style=\"width: 100%;border: none;\">\n                    <el-collapse-item v-for=\"(set_class, class_name) in wordsets\" :title=\"class_name\" :key=\"class_name\"\n                        :name=\"class_name\">\n                        <div class=\"colbox wordclass\">\n                            <div v-for=\"(wordset, index) in set_class\" :key=\"index\" class=\"wordset rowbox\">\n                                <div class=\"no\">\n                                    {{ index + 1 }}\n                                </div>\n                                <div class=\"title\">\n                                    {{ wordset.name }}\n                                </div>\n                                <div style=\"font-size: 17px;font-weight: 200;\">\n                                    创建日期：{{ (new Date(wordset.created)).toLocaleString() }}\n                                </div>\n                                <div class=\"option\">\n                                    <box-icon class=\"btn\" name='edit' color=\"var(--text-color)\"\n                                        @click=\"edit(wordset, class_name)\"></box-icon>\n                                    <box-icon class=\"btn\" name='trash' color=\"var(--text-color)\"\n                                        @click=\"del(class_name, wordset.id, index)\"></box-icon>\n                                </div>\n                            </div>\n                        </div>\n                    </el-collapse-item>\n                </el-collapse>\n            </div>\n        </el-main>\n    </el-container>\n</template>\n\n<script>\nimport { ElNotification, ElMessage, ElMessageBox } from 'element-plus';\n\nexport default {\n    name: \"SetList\",\n    data() {\n        return {\n            wordsets:window.wordsets,\n            active_set_class: \"\",\n        }\n    },\n    methods:{\n        manage_online_wordsets(){\n            window.location.href='/dashboard';\n        },\n        del(set_class_name, id, index) {\n            ElMessageBox.confirm(\"确定要删除吗？\")\n                .then(() => {\n                    localStorage.removeItem(id);\n                    this.wordsets[set_class_name].splice(index, 1);\n                    if (!this.wordsets[set_class_name].length) {\n                        delete this.wordsets[set_class_name];\n                    }\n                    localStorage.setItem(\"wordsets\", JSON.stringify(this.wordsets));\n                    ElMessage(`已经删除 ${set_class_name} `);\n                });\n        },\n        edit(set, set_class_name) {\n            window.editing = {set,set_class_name};\n            this.$router.push({\n                path:\"/manage/edit\",\n            })\n        },\n        async export_set() {\n            let fileHandle = await window.showSaveFilePicker({\n                types: [\n                    {\n                        description: \"JSON file\",\n                        accept: {\n                            'text/json': ['.json'],\n                        },\n                    },\n                ],\n            });\n            let writestream = await fileHandle.createWritable();\n            let data = {\n                wordsets: this.wordsets,\n                words: {}\n            };\n            for (let i of Object.values(this.wordsets)) {\n                for (let j of i) {\n                    let temp = localStorage.getItem(j.id);\n                    data.words[j.id] = temp;\n                }\n            }\n            writestream.write(JSON.stringify(data));\n            writestream.close();\n        },\n        async import_set() {\n            let [fileHandle] = await window.showOpenFilePicker({\n                types: [\n                    {\n                        description: \"JSON file\",\n                        accept: {\n                            'text/json': ['.json'],\n                        },\n                    },\n                ],\n            });\n            let file = await fileHandle.getFile();\n            let data = JSON.parse(await file.text());\n            let cnt = 0;\n            for (let i of Object.keys(data.wordsets)) {\n                for (let j of data.wordsets[i]) {\n                    if (!localStorage.getItem(j.id)) {\n                        if (!this.wordsets[i]) this.wordsets[i] = [];\n                        this.wordsets[i].push(j);\n                        localStorage.setItem(j.id, data.words[j.id]);\n                        cnt++;\n                    }\n                }\n            }\n            localStorage.setItem(\"wordsets\", JSON.stringify(this.wordsets));\n            ElNotification({\n                type: \"success\",\n                title: \"添加成功\",\n                message: `已添加 ${cnt} 本单词本`\n            });\n        }\n    },\n    created() {\n        this.active_set_class = Object.keys(this.wordsets)[0];\n    }\n}\n</script>\n\n<style scoped>\n.title {\n    font-weight: 800;\n    color: var(--text-color);\n    font-size: 35px;\n    flex-grow: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    min-height: 60px;\n}\n.option {\n    display: flex;\n    justify-content: space-around;\n    opacity: 0;\n    transition: .5s;\n}\n\n.wordset:hover .option{\n    opacity: 1;\n}\n\n#header {\n    /* border-bottom: solid 1px #bcbcbc; */\n    justify-content: space-between;\n    height: 40px;\n}\n\n.no {\n    font-size: 20px;\n    font-weight: 700;\n}\n\n#wordsets-container {\n    overflow-x: auto;\n    height: 100%;\n}\n\n#main-container {\n    height: 87%;\n}\n\n.wordclass {\n    flex-wrap: wrap\n}\n\n.card div {\n    margin-bottom: 10px;\n}\n\n.el-collapse {\n    --el-collapse-header-bg-color: #FFFFFF00;\n    --el-collapse-content-bg-color: #FFFFFF00;\n    --el-collapse-header-font-size: 18px;\n}\n</style>","import { render } from \"./SetList.vue?vue&type=template&id=5a39590e&scoped=true\"\nimport script from \"./SetList.vue?vue&type=script&lang=js\"\nexport * from \"./SetList.vue?vue&type=script&lang=js\"\n\nimport \"./SetList.vue?vue&type=style&index=0&id=5a39590e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a39590e\"]])\n\nexport default __exports__"],"names":["class","if","style","_createBlock","_component_el_container","id","_createVNode","_component_el_header","_createElementVNode","_hoisted_1","_toDisplayString","Object","keys","$data","wordsets","length","_component_el_button","onClick","$options","manage_online_wordsets","type","_component_box_icon","color","name","size","export_set","import_set","_cache","$event","_ctx","$router","push","_component_el_main","_hoisted_2","_component_el_collapse","accordion","active_set_class","_createElementBlock","_Fragment","_renderList","set_class","class_name","_component_el_collapse_item","title","key","_hoisted_3","wordset","index","_hoisted_4","_hoisted_5","_hoisted_6","Date","created","toLocaleString","_hoisted_7","edit","del","data","window","methods","location","href","set_class_name","ElMessageBox","confirm","then","localStorage","removeItem","this","splice","setItem","JSON","stringify","ElMessage","set","editing","path","fileHandle","showSaveFilePicker","types","description","accept","writestream","createWritable","words","i","values","j","temp","getItem","write","close","showOpenFilePicker","file","getFile","parse","text","cnt","ElNotification","message","__exports__","render"],"sourceRoot":""}