"use strict";(self["webpackChunkwordin"]=self["webpackChunkwordin"]||[]).push([[256],{7256:function(e,t,l){l.r(t),l.d(t,{default:function(){return C}});l(7658);var d=l(3396),a=l(7139);const i=e=>((0,d.dD)("data-v-0d21c30e"),e=e(),(0,d.Cn)(),e),o={class:"container",style:{overflow:"auto"}},s={class:"text-large font-600 mr-3"},n={class:"colbox",style:{"margin-top":"20px"}},r={class:"rowbox"},w={class:"card",style:{"margin-bottom":"20px"}},u=i((()=>(0,d._)("div",{class:"title"},"添加单词",-1))),c={class:"colbox"},p={class:"colbox"},m={class:"card"},_=i((()=>(0,d._)("div",{class:"title"},"更改名称",-1))),h={class:"colbox"},g={style:{width:"100%"},class:"card"},b={style:{display:"flex","flex-direction":"row","justify-content":"space-around"}},v=i((()=>(0,d._)("div",{class:"title"},"修改单词",-1))),f={class:"colbox"},x={class:"colbox"};function y(e,t,l,i,y,W){const V=(0,d.up)("el-page-header"),k=(0,d.up)("el-input"),U=(0,d.up)("el-text"),C=(0,d.up)("el-option"),$=(0,d.up)("el-select"),S=(0,d.up)("el-button"),j=(0,d.up)("el-table-column"),z=(0,d.up)("box-icon"),O=(0,d.up)("el-table"),I=(0,d.up)("el-dialog");return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d._)("div",o,[(0,d.Wm)(V,{onBack:t[0]||(t[0]=t=>e.$router.push("/manage"))},{content:(0,d.w5)((()=>[(0,d._)("span",s,(0,a.zw)(y.editing.name)+" ("+(0,a.zw)(y.editing.id)+") ",1)])),_:1}),(0,d._)("div",n,[(0,d._)("div",r,[(0,d._)("div",w,[u,(0,d.Wm)(k,{ref:"input1",autofocus:"",onChange:t[1]||(t[1]=t=>W.focusnext(e.$refs.input2)),modelValue:y.new_word.word,"onUpdate:modelValue":t[2]||(t[2]=e=>y.new_word.word=e)},null,8,["modelValue"]),(0,d._)("div",c,[(0,d.Wm)(U,{class:"mx-1",style:{width:"60px"}},{default:(0,d.w5)((()=>[(0,d.Uk)("翻译:")])),_:1}),(0,d.Wm)(k,{ref:"input2",onChange:t[3]||(t[3]=t=>W.focusnext(e.$refs.input3)),modelValue:y.new_word.trans,"onUpdate:modelValue":t[4]||(t[4]=e=>y.new_word.trans=e)},null,8,["modelValue"])]),(0,d._)("div",p,[(0,d.Wm)(U,{class:"mx-1",style:{width:"80px"}},{default:(0,d.w5)((()=>[(0,d.Uk)("词性：")])),_:1}),(0,d.Wm)($,{ref:"input3",modelValue:y.new_word.type,"onUpdate:modelValue":t[5]||(t[5]=e=>y.new_word.type=e),class:"m-2",placeholder:"Select"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(y.options,(e=>((0,d.wg)(),(0,d.j4)(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,d.Wm)(S,{onClick:t[6]||(t[6]=e=>W.add_word()),type:"primary"},{default:(0,d.w5)((()=>[(0,d.Uk)("添加")])),_:1})]),(0,d._)("div",m,[_,(0,d._)("div",h,[(0,d.Wm)(U,{class:"mx-1",style:{width:"60px"}},{default:(0,d.w5)((()=>[(0,d.Uk)("新名称:")])),_:1}),(0,d.Wm)(k,{modelValue:y.new_name,"onUpdate:modelValue":t[7]||(t[7]=e=>y.new_name=e)},null,8,["modelValue"])]),(0,d.Wm)(S,{onClick:t[8]||(t[8]=e=>W.change_name()),type:"primary"},{default:(0,d.w5)((()=>[(0,d.Uk)("更改名称")])),_:1})])]),(0,d._)("div",g,[(0,d.Wm)(O,{data:y.table,style:{"max-height":"550px",overflow:"auto","border-radius":"10px"}},{default:(0,d.w5)((()=>[(0,d.Wm)(j,{type:"index"}),(0,d.Wm)(j,{prop:"word",label:"单词"}),(0,d.Wm)(j,{prop:"type",label:"词性"}),(0,d.Wm)(j,{prop:"trans",label:"翻译"}),(0,d.Wm)(j,{width:"100px",fixed:"right",label:"操作"},{default:(0,d.w5)((e=>[(0,d._)("div",b,[(0,d.Wm)(z,{color:"var(--text-color)",size:"14px",class:"btn",name:"trash",onClick:t=>W.del_word(e.$index)},null,8,["onClick"]),(0,d.Wm)(z,{color:"var(--text-color)",size:"14px",class:"btn",name:"edit-alt",onClick:t=>W.edit_word(e.$index)},null,8,["onClick"])])])),_:1})])),_:1},8,["data"])])])]),(0,d.Wm)(I,{modelValue:y.word_editing,"onUpdate:modelValue":t[12]||(t[12]=e=>y.word_editing=e)},{default:(0,d.w5)((()=>[v,(0,d.Wm)(k,{modelValue:y.editing_word.word,"onUpdate:modelValue":t[9]||(t[9]=e=>y.editing_word.word=e)},null,8,["modelValue"]),(0,d._)("div",f,[(0,d.Wm)(U,{class:"mx-1",style:{width:"60px"}},{default:(0,d.w5)((()=>[(0,d.Uk)("翻译:")])),_:1}),(0,d.Wm)(k,{modelValue:y.editing_word.trans,"onUpdate:modelValue":t[10]||(t[10]=e=>y.editing_word.trans=e)},null,8,["modelValue"])]),(0,d._)("div",x,[(0,d.Wm)(U,{class:"mx-1",style:{width:"80px"}},{default:(0,d.w5)((()=>[(0,d.Uk)("词性：")])),_:1}),(0,d.Wm)($,{modelValue:y.editing_word.type,"onUpdate:modelValue":t[11]||(t[11]=e=>y.editing_word.type=e),class:"m-2",placeholder:"Select"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(y.options,(e=>((0,d.wg)(),(0,d.j4)(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,d.Wm)(S,{onClick:W.save_word,type:"primary"},{default:(0,d.w5)((()=>[(0,d.Uk)("更改")])),_:1},8,["onClick"])])),_:1},8,["modelValue"])],64)}var W=l(7178),V={name:"NoteEditor",data(){return{editing:window.editing.set,editingClass:window.editing.set_class_name,wordsets:window.wordsets,new_word:{word:"",trans:"",type:"adj."},editing_word:{word:"",trans:"",type:"adj.",index:0},options:[{label:"adjective(adj.)",value:"adj."},{label:"verb(v.)",value:"v."},{label:"noun(n.)",value:"n."},{label:"adverb(adv.)",value:"adv."},{label:"prepositions(prep.)",value:"prep."},{label:"phrase(phr.)",value:"phr."}],table:[],word_editing:!1,new_name:""}},methods:{focusnext(e){e.focus()},has_word(e){for(let t of this.table)if(t.word===e)return!0;return!1},add_word(){this.has_word(this.new_word.word)?(0,W.z8)({message:`单词 ${this.new_word.word} 已存在`,type:"error"}):(this.table.push(Object.assign({},this.new_word)),localStorage.setItem(this.editing.id,JSON.stringify(this.table)),(0,W.z8)({message:`已添加 ${this.new_word.word} (${this.new_word.type})`,type:"success"}),this.new_word.word="",this.new_word.trans="",this.$refs.input1.focus())},edit_word(e){this.editing_word=Object.assign({},this.table[e]),this.editing_word.index=e,this.word_editing=!0},save_word(){this.editing_word.word!=this.table[this.editing_word.index].word&&this.has_word(this.editing_word.word)?(0,W.z8)({message:`单词 ${this.new_word.word} 已存在`,type:"error"}):(this.table[this.editing_word.index]={word:this.editing_word.word,type:this.editing_word.type,trans:this.editing_word.trans},localStorage.setItem(this.editing.id,JSON.stringify(this.table)),(0,W.z8)({message:"已保存更改",type:"success"}),this.word_editing=!1)},change_name(){let e=this.editing.name;this.editing.name=this.new_name,localStorage.setItem("wordsets",JSON.stringify(this.wordsets)),(0,W.z8)({message:`已更改 ${e} 为 ${this.new_name}`,type:"success"})},del_word(e){let t=this.table[e].word.concat();this.table.splice(e,1),localStorage.setItem(this.editing.id,JSON.stringify(this.table)),(0,W.z8)({message:`已删除 ${t}`,type:"warning"})}},created(){this.table=JSON.parse(localStorage.getItem(this.editing.id))}},k=l(89);const U=(0,k.Z)(V,[["render",y],["__scopeId","data-v-0d21c30e"]]);var C=U}}]);
//# sourceMappingURL=256.c47dbc67.js.map